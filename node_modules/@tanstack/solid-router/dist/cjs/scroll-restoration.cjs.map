{"version":3,"file":"scroll-restoration.cjs","sources":["../../src/scroll-restoration.tsx"],"sourcesContent":["import {\n  defaultGetScrollRestorationKey,\n  restoreScroll,\n  storageKey,\n} from '@tanstack/router-core'\nimport { useRouter } from './useRouter'\nimport { ScriptOnce } from './ScriptOnce'\n\nexport function ScrollRestoration() {\n  const router = useRouter()\n  const getKey =\n    router.options.getScrollRestorationKey || defaultGetScrollRestorationKey\n  const userKey = getKey(router.latestLocation)\n  const resolvedKey =\n    userKey !== defaultGetScrollRestorationKey(router.latestLocation)\n      ? userKey\n      : null\n\n  if (!router.isScrollRestoring || !router.isServer) {\n    return null\n  }\n\n  return (\n    <ScriptOnce\n      children={`(${restoreScroll.toString()})(${JSON.stringify(storageKey)},${JSON.stringify(resolvedKey)}, undefined, true)`}\n      log={false}\n    />\n  )\n}\n"],"names":["ScrollRestoration","router","useRouter","getKey","options","getScrollRestorationKey","defaultGetScrollRestorationKey","userKey","latestLocation","resolvedKey","isScrollRestoring","isServer","_$createComponent","ScriptOnce","children","restoreScroll","toString","JSON","stringify","storageKey","log"],"mappings":";;;;;;AAQO,SAASA,oBAAoB;AAClC,QAAMC,SAASC,UAAAA,UAAU;AACnBC,QAAAA,SACJF,OAAOG,QAAQC,2BAA2BC,WAAAA;AACtCC,QAAAA,UAAUJ,OAAOF,OAAOO,cAAc;AAC5C,QAAMC,cACJF,YAAYD,WAAAA,+BAA+BL,OAAOO,cAAc,IAC5DD,UACA;AAEN,MAAI,CAACN,OAAOS,qBAAqB,CAACT,OAAOU,UAAU;AAC1C,WAAA;AAAA,EAAA;AAGT,SAAAC,MAAAA,gBACGC,WAAAA,YAAU;AAAA,IAAA,IACTC,WAAQ;AAAA,aAAE,IAAIC,WAAAA,cAAcC,SAAS,CAAC,KAAKC,KAAKC,UAAUC,WAAAA,UAAU,CAAC,IAAIF,KAAKC,UAAUT,WAAW,CAAC;AAAA,IAAoB;AAAA,IACxHW,KAAK;AAAA,EAAA,CAAK;AAGhB;;"}