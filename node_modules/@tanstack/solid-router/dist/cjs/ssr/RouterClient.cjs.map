{"version":3,"file":"RouterClient.cjs","sources":["../../../src/ssr/RouterClient.tsx"],"sourcesContent":["import { hydrate } from '@tanstack/router-core/ssr/client'\nimport { Await } from '../awaited'\nimport { HeadContent } from '../HeadContent'\nimport { RouterProvider } from '../RouterProvider'\nimport type { AnyRouter } from '@tanstack/router-core'\nimport type { JSXElement } from 'solid-js'\n\nlet hydrationPromise: Promise<void | Array<Array<void>>> | undefined\n\nconst Dummy = (props: { children?: JSXElement }) => <>{props.children}</>\n\nexport function RouterClient(props: { router: AnyRouter }) {\n  if (!hydrationPromise) {\n    if (!props.router.state.matches.length) {\n      hydrationPromise = hydrate(props.router)\n    } else {\n      hydrationPromise = Promise.resolve()\n    }\n  }\n  return (\n    <Await\n      promise={hydrationPromise}\n      children={() => (\n        <Dummy>\n          <Dummy>\n            <RouterProvider\n              router={props.router}\n              InnerWrap={(props) => (\n                <Dummy>\n                  <Dummy>\n                    <HeadContent />\n                    {props.children}\n                  </Dummy>\n                  <Dummy />\n                </Dummy>\n              )}\n            />\n          </Dummy>\n        </Dummy>\n      )}\n    />\n  )\n}\n"],"names":["hydrationPromise","Dummy","props","_$memo","children","RouterClient","router","state","matches","length","hydrate","Promise","resolve","_$createComponent","Await","promise","RouterProvider","InnerWrap","HeadContent"],"mappings":";;;;;;;AAOA,IAAIA;AAEJ,MAAMC,QAAQA,CAACC,UAAgCC,MAAA,KAAA,MAAQD,MAAME,QAAQ;AAE9D,SAASC,aAAaH,OAA8B;AACzD,MAAI,CAACF,kBAAkB;AACrB,QAAI,CAACE,MAAMI,OAAOC,MAAMC,QAAQC,QAAQ;AACnBC,yBAAAA,OAAAA,QAAQR,MAAMI,MAAM;AAAA,IAAA,OAClC;AACLN,yBAAmBW,QAAQC,QAAQ;AAAA,IAAA;AAAA,EACrC;AAEF,SAAAC,MAAAA,gBACGC,QAAAA,OAAK;AAAA,IACJC,SAASf;AAAAA,IACTI,UAAUA,MAAAS,MAAAA,gBACPZ,OAAK;AAAA,MAAA,IAAAG,WAAA;AAAA,eAAAS,MAAAA,gBACHZ,OAAK;AAAA,UAAA,IAAAG,WAAA;AAAA,mBAAAS,MAAAA,gBACHG,eAAAA,gBAAc;AAAA,cAAA,IACbV,SAAM;AAAA,uBAAEJ,MAAMI;AAAAA,cAAM;AAAA,cACpBW,WAAYf,CAAAA,WAAKW,MAAAA,gBACdZ,OAAK;AAAA,gBAAA,IAAAG,WAAA;AAAAS,yBAAAA,CAAAA,sBACHZ,OAAK;AAAA,oBAAA,IAAAG,WAAA;AAAAS,6BAAAA,CAAAA,MAAAA,gBACHK,YAAAA,aAAW,CAAA,CAAA,GAAAf,MAAAA,KACXD,MAAAA,OAAME,QAAQ,CAAA;AAAA,oBAAA;AAAA,kBAAAS,CAAAA,GAAAA,MAAAA,gBAEhBZ,OAAK,CAAA,CAAA,CAAA;AAAA,gBAAA;AAAA,cAAA,CAAA;AAAA,YAAA,CAET;AAAA,UAAA;AAAA,QAAA,CAAA;AAAA,MAAA;AAAA,IAAA,CAAA;AAAA,EAAA,CAIR;AAGP;;"}