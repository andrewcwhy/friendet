import { createComponent, NoHydration, ssr, template, insert, Hydration, useAssets } from "solid-js/web";
import { MetaProvider } from "@solidjs/meta";
import { Asset } from "../Asset.js";
import { useTags } from "../HeadContent.js";
import { RouterProvider } from "../RouterProvider.js";
import { Scripts } from "../Scripts.js";
var _tmpl$ = /* @__PURE__ */ template(`<html><head></head><body>`);
function ServerHeadContent() {
  const tags = useTags();
  useAssets(() => {
    return createComponent(MetaProvider, {
      get children() {
        return tags().map((tag) => createComponent(Asset, tag));
      }
    });
  });
  return null;
}
const docType = ssr("<!DOCTYPE html>");
function RouterServer(props) {
  return createComponent(NoHydration, {
    get children() {
      return [docType, (() => {
        var _el$ = _tmpl$(), _el$3 = _el$.firstChild;
        insert(_el$3, createComponent(Hydration, {
          get children() {
            return createComponent(RouterProvider, {
              get router() {
                return props.router;
              },
              InnerWrap: (props2) => createComponent(NoHydration, {
                get children() {
                  return createComponent(MetaProvider, {
                    get children() {
                      return [createComponent(ServerHeadContent, {}), createComponent(Hydration, {
                        get children() {
                          return props2.children;
                        }
                      }), createComponent(Scripts, {})];
                    }
                  });
                }
              })
            });
          }
        }));
        return _el$;
      })()];
    }
  });
}
export {
  RouterServer,
  ServerHeadContent
};
//# sourceMappingURL=RouterServer.js.map
