import { createComponent, mergeProps, template, spread } from "solid-js/web";
import { Style, Meta, Title } from "@solidjs/meta";
import { onMount, onCleanup } from "solid-js";
var _tmpl$ = /* @__PURE__ */ template(`<link>`), _tmpl$2 = /* @__PURE__ */ template(`<script>`);
function Asset({
  tag,
  attrs,
  children
}) {
  switch (tag) {
    case "title":
      return createComponent(Title, mergeProps(attrs, {
        children
      }));
    case "meta":
      return createComponent(Meta, attrs);
    case "link":
      return (() => {
        var _el$ = _tmpl$();
        spread(_el$, attrs, false, false);
        return _el$;
      })();
    case "style":
      return createComponent(Style, mergeProps(attrs, {
        innerHTML: children
      }));
    case "script":
      return createComponent(Script, {
        attrs,
        children
      });
    default:
      return null;
  }
}
function Script({
  attrs,
  children
}) {
  onMount(() => {
    if (attrs == null ? void 0 : attrs.src) {
      const script = document.createElement("script");
      for (const [key, value] of Object.entries(attrs)) {
        if (value !== void 0 && value !== false) {
          script.setAttribute(key, typeof value === "boolean" ? "" : String(value));
        }
      }
      document.head.appendChild(script);
      onCleanup(() => {
        if (script.parentNode) {
          script.parentNode.removeChild(script);
        }
      });
    } else if (typeof children === "string") {
      const script = document.createElement("script");
      script.textContent = children;
      if (attrs) {
        for (const [key, value] of Object.entries(attrs)) {
          if (value !== void 0 && value !== false) {
            script.setAttribute(key, typeof value === "boolean" ? "" : String(value));
          }
        }
      }
      document.head.appendChild(script);
      onCleanup(() => {
        if (script.parentNode) {
          script.parentNode.removeChild(script);
        }
      });
    }
  });
  if ((attrs == null ? void 0 : attrs.src) && typeof attrs.src === "string") {
    return (() => {
      var _el$2 = _tmpl$2();
      spread(_el$2, attrs, false, false);
      return _el$2;
    })();
  }
  if (typeof children === "string") {
    return (() => {
      var _el$3 = _tmpl$2();
      spread(_el$3, mergeProps(attrs, {
        "innerHTML": children
      }), false, false);
      return _el$3;
    })();
  }
  return null;
}
export {
  Asset
};
//# sourceMappingURL=Asset.js.map
